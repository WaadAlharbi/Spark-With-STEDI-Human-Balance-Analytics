# Spark-With-STEDI-Human-Balance-Analytics
### About
In this project, I will extract data generated by the STEDI Step Trainer sensors and the accompanying mobile application. This data will be organized and curated into a data lakehouse solution on Amazon Web Services (AWS) to enable Data Scientists to train the learning model effectively.

### Project outline
‏The STEDI team is developing an innovative step training device to help users improve their balance through specialized exercises. The device relies on a motion sensor that records the detected body distance during training and integrates seamlessly with a mobile application that interacts with the device's sensors. The app also utilizes the mobile phone's accelerometer to detect movement in the X, Y, and Z directions.
‏So far, many customers have received their step training devices, installed the mobile app, and started using them together to test their balance. Additionally, some early users have agreed to share their data to support research efforts. The STEDI team aims to use the motion sensor data to train a machine-learning model capable of accurately detecting steps in real-time.
### Datasets information & sources
The first dataset contains customer data in JSON format generated by fulfillment and the STEDI website, which includes metadata about customers and their consent to share the data with others, friends, or for research.
The second dataset consists of Step Trainer files in JSON format generated by the motion sensor, which contains metadata about the sensor and distance.

The third dataset consists of accelerometer files in JSON format generated by the mobile app, which contains metadata about timestamp, users, and detect motion in several directions.

### Configuration
create the S3 Gateway endpoint
aws ec2 create-vpc-endpoint --vpc-id vpc-076*********--service-name com.amazonaws.us-east-1.s3 --route-table-ids rtb-052**********
 creating an IAM Service Role
aws iam create-role --role-name my-glue-service-role --assume-role-policy-document '{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Principal": {
                "Service": "glue.amazonaws.com"
            },
            "Action": "sts:AssumeRole"
        }
    ]
}'
Grant Glue Privileges on the S3 Bucket
aws iam put-role-policy --role-name my-glue-service-role --policy-name S3Access --policy-document '{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "ListObjectsInBucket",
            "Effect": "Allow",
            "Action": [
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3::: spark-and-stedi-human-balance-w1"
            ]
        },
        {
            "Sid": "AllObjectActions",
            "Effect": "Allow",
            "Action": "s3:*Object",
            "Resource": [
                "arn:aws:s3::: spark-and-stedi-human-balance-w1 /*"
            ]
        }
    ]
}'



